"use strict";var ki=Object.defineProperty,Ii=Object.defineProperties,Li=Object.getOwnPropertyDescriptors,Ne=Object.getOwnPropertySymbols,Fi=Object.prototype.hasOwnProperty,Ri=Object.prototype.propertyIsEnumerable,Ve=(_,g,l)=>g in _?ki(_,g,{enumerable:!0,configurable:!0,writable:!0,value:l}):_[g]=l,S=(_,g)=>{for(var l in g||(g={}))Fi.call(g,l)&&Ve(_,l,g[l]);if(Ne)for(var l of Ne(g))Ri.call(g,l)&&Ve(_,l,g[l]);return _},V=(_,g)=>Ii(_,Li(g));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6237],{6237:(_,g,l)=>{l.r(g),l.d(g,{HomePageModule:()=>Pi});var p=l(6019),u=l(1704),b=l(9010),ie=l(7464),Ye=l(3949),e=l(6079),k=l(8193),C=l(6960),Y=l(8561),v=l(5591),U=l(4808);function Ue(n,o){if(1&n&&e._UZ(0,"app-ship-card",9,10),2&n){const t=e.oxw().$implicit;e.Q6J("ship",t)}}function Je(n,o){if(1&n&&(e.TgZ(0,"div",7),e.YNc(1,Ue,2,1,"app-ship-card",8),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t.isLoading)}}function Qe(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Je,2,1,"div",6),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.Akn("height: "+i.rowHeight+"px"),e.xp6(1),e.Q6J("ngForOf",t)}}const J=function(n){return{mobile:n}};function qe(n,o){if(1&n&&(e.TgZ(0,"cdk-virtual-scroll-viewport",4),e.YNc(1,Qe,2,3,"div",5),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(3,J,t.misc.isMobile))("itemSize",t.rowHeight),e.xp6(1),e.Q6J("cdkVirtualForOf",t.rows)}}function je(n,o){if(1&n&&(e.TgZ(0,"p",13),e._uU(1,"No ships fit this criteria."),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,J,t.misc.isMobile))}}function He(n,o){if(1&n&&(e.TgZ(0,"div",11),e.YNc(1,je,2,3,"p",12),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(2,J,t.misc.isMobile)),e.xp6(1),e.Q6J("ngIf",0==t.rows.length&&!t.isLoading)}}let oe=(()=>{class n{constructor(t,i,s,r,a,h){this.filter=t,this.shipsService=i,this.sort=s,this.misc=r,this.settingsData=a,this.list=h,this.rows=[],this.isLoading=!0,this.fleetTechStatIconWidths={HP:16,AA:17,ASW:18,TRP:16,FP:27,EVA:15,HIT:16,AVI:17,RLD:15}}onResize(){this.refresh()}ngAfterViewInit(){this.misc.shipCardList=this,setTimeout(()=>{this.refresh()},1e3)}refresh(){if(!this.misc.hasFocus)return void(this.misc.blurOnShipListLoad=!0);this.misc.blurOnShipListLoad=!1;let t=this.settingsData.settings["ship-cards-per-row"];this.isLoading=!0,this.rows=[];const r=(this.list.nativeElement.getBoundingClientRect().width/t-30)/100;document.documentElement.style.setProperty("--ship-card-zoom",r.toString()),this.rowHeight=158*r;let a=0;const h=Object.keys(this.misc.shipsFilterPass).length;if(this.shipsService.setAllProperShipPos(this.sort.immediateSort(this.shipsService.ships)).forEach(c=>{(0==h||this.misc.shipsFilterPass[c.id])&&(null==this.rows[a]&&this.rows.push([]),this.rows[a].push(c),this.rows[a].length>=t&&a++)}),this.rows.length>0)for(;this.rows[this.rows.length-1].length<t;){const c=JSON.parse(JSON.stringify(this.shipsService.ships[0]));c.id="-1",this.rows[this.rows.length-1].push(c)}setTimeout(()=>{this.isLoading=!1})}getMaximumShipsPerRow(t){return Math.ceil(t/130)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k.i),e.Y36(C.P),e.Y36(Y.K),e.Y36(v.Y),e.Y36(U.M),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ship-card-list"]],decls:4,vars:3,consts:[[3,"shouldDisplay"],["class","ship-grid",3,"ngClass","itemSize",4,"ngIf"],["class","ship-grid",3,"ngClass",4,"ngIf"],[3,"resize"],[1,"ship-grid",3,"ngClass","itemSize"],[3,"style",4,"cdkVirtualFor","cdkVirtualForOf"],["class","ship-card-component-container",4,"ngFor","ngForOf"],[1,"ship-card-component-container"],[3,"ship",4,"ngIf"],[3,"ship"],["ships",""],[1,"ship-grid",3,"ngClass"],["class","generic-text no-ships-text",3,"ngClass",4,"ngIf"],[1,"generic-text","no-ships-text",3,"ngClass"]],template:function(t,i){1&t&&(e._UZ(0,"app-quick-tech-view",0),e.YNc(1,qe,2,5,"cdk-virtual-scroll-viewport",1),e.YNc(2,He,2,4,"div",2),e.TgZ(3,"div",3),e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7),e.qZA()),2&t&&(e.Q6J("shouldDisplay",0!=i.rows.length),e.xp6(1),e.Q6J("ngIf",0!=i.rows.length),e.xp6(1),e.Q6J("ngIf",0==i.rows.length))},styles:[".ship-grid[_ngcontent-%COMP%]{text-align:center;height:81vh;background:#213052;border:2px solid #3c4f79;margin-left:20px}.ship-grid.mobile[_ngcontent-%COMP%]{text-align:center;padding-left:19px;height:75vh;background:none;border:none}.no-ships-text[_ngcontent-%COMP%]{padding-left:20px;margin-top:10px;text-align:left}.no-ships-text.mobile[_ngcontent-%COMP%]{text-align:center}[_ngcontent-%COMP%]::-webkit-scrollbar{width:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;box-shadow:inset 0 0 100px #0000008c;border-radius:10px;border-left:8px solid transparent;border-right:8px solid transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#5f7ea2,#324865);border-radius:5px}.ship-card-component-container[_ngcontent-%COMP%]{display:inline-block;width:calc(100px * var(--ship-card-zoom));margin:8px}",".main-content[_ngcontent-%COMP%]{--ion-background-color: #002454;--overflow: overlay}.main-content.mobile[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{margin:0}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px}.header-container.mobile[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:10px;margin-bottom:10px}.header-img[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px}.header-img.mobile[_ngcontent-%COMP%]{width:40px;height:40px}.header-title[_ngcontent-%COMP%]{margin-right:10px;margin-top:0;margin-bottom:0}.header-title.mobile[_ngcontent-%COMP%]{font-size:16px}.header-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px;margin-right:10px;cursor:pointer}.header-button[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:10px}.content[_ngcontent-%COMP%]{flex-direction:column;width:100%;min-width:0;position:relative;-webkit-user-select:none;user-select:none;display:flex}.content.mobile[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.background[_ngcontent-%COMP%]{width:100%;height:100vh;position:fixed;opacity:0;transition:opacity 1s;-webkit-user-select:none;user-select:none;pointer-events:none;background:url(blueprint_bg.5c5f2ad60108b038.webp);background-size:cover}.background.mobile[_ngcontent-%COMP%]{background:url(blueprint_bg_mobile.66b992c8c680e51e.webp);background-size:cover}.background.fade-in[_ngcontent-%COMP%]{opacity:.5}.sort-and-filter-text[_ngcontent-%COMP%]{position:fixed;transform:translate(-55px,40vh) rotate(90deg);margin:0;z-index:99;cursor:pointer}.side-menu-burger-icon[_ngcontent-%COMP%]{padding-right:10px;font-size:30px;color:#ccebff}.not-loaded[_ngcontent-%COMP%]{display:none}"]}),n})();var w=l(4762),se=l(1708),A=l(121);const Ge=["levelInput"];function We(n,o){1&n&&(e.TgZ(0,"p",14),e._uU(1,"- SELECTED -"),e.qZA())}function Ke(n,o){if(1&n&&e._UZ(0,"ion-img",15),2&n){const t=e.oxw();e.Gre("ship-hull-icon ",t.stat,""),e.Q6J("src","assets/icons/stat icons/"+t.stat+".png")}}function $e(n,o){if(1&n&&(e.TgZ(0,"p",16),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("+",t.bonus,"")}}function Xe(n,o){if(1&n&&(e.TgZ(0,"p",17),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("Lv. ",t.ship.level,"")}}function et(n,o){1&n&&e._UZ(0,"ion-icon",18)}function tt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"img",19),e.NdJ("error",function(){return e.CHM(t),e.oxw().getFallbackThumbnail()})("load",function(){return e.CHM(t),e.oxw().loadedImage=!0}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("src",t.imageSrc,e.LSH)}}const O=function(n){return{scale:n}};function nt(n,o){if(1&n&&e._UZ(0,"img",22),2&n){const t=e.oxw(2);e.Gre("ship-thumbnail ship-rarity-",t.rarity,""),e.Q6J("ngClass",e.VKq(4,O,t.scaleThumbnail))}}function it(n,o){if(1&n&&e._UZ(0,"img",23),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,O,t.scaleThumbnail))}}function ot(n,o){if(1&n&&(e.ynx(0),e.YNc(1,nt,1,6,"img",20),e.YNc(2,it,1,3,"img",21),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","Ultra-Rare"!=t.rarity&&"Decisive"!=t.rarity),e.xp6(1),e.Q6J("ngIf","Ultra-Rare"==t.rarity||"Decisive"==t.rarity)}}function st(n,o){if(1&n&&e._UZ(0,"img",26),2&n){const t=e.oxw(2);e.Gre("ship-thumbnail ship-rarity-",t.rarity,""),e.Q6J("src",t.imageSrc,e.LSH)("ngClass",e.VKq(5,O,t.scaleThumbnail))}}function rt(n,o){if(1&n&&e._UZ(0,"img",27),2&n){const t=e.oxw(2);e.Q6J("src",t.imageSrc,e.LSH)("ngClass",e.VKq(2,O,t.scaleThumbnail))}}function at(n,o){if(1&n&&(e.ynx(0),e.YNc(1,st,1,7,"img",24),e.YNc(2,rt,1,4,"img",25),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","Ultra-Rare"!=t.rarity&&"Decisive"!=t.rarity),e.xp6(1),e.Q6J("ngIf","Ultra-Rare"==t.rarity||"Decisive"==t.rarity)}}const lt=function(n){return{"bulk-select":n}};let ct=(()=>{class n{constructor(t,i,s,r,a){this.modalController=t,this.hoverTitles=i,this.misc=s,this.shipsService=r,this.settingsData=a,this.imageSrc="",this.fadeCSS="out",this.flashCSS="out",this.loadedImage=!1,this.ship=null}ngOnInit(){this.imageSrc=this.getImageSrc(),this.hoverTitle=this.hoverTitles.getTechStatTitle(this.ship),this.rarity=this.getRarity(),this.hull=this.getHull(),this.stat=this.getStat(),this.bonus=this.getBonus(),this.scaleThumbnail=document.documentElement.style.getPropertyValue("--ship-card-zoom")>1..toString()}ngAfterViewInit(){setTimeout(()=>{this.fadeCSS="in"})}getHull(){return this.ship.hasRetrofit&&this.ship.retroHull&&this.settingsData.checkBool("retrofit-forms")?this.ship.retroHull:this.ship.hull}getRarity(){return this.ship.hasRetrofit&&this.settingsData.checkBool("retrofit-forms")?this.shipsService.getRetroRarity(this.ship.id):this.ship.rarity}getImageSrc(){return this.ship.hasRetrofit&&this.settingsData.checkBool("retrofit-forms")?this.ship.retroThumbnail:"assets/ship thumbnails/"+this.ship.id+".webp"}getFallbackThumbnail(){this.imageSrc=this.ship.fallbackThumbnail}getStat(){return this.misc.filteringMaxTech?this.ship.techStat:this.ship.obtainStat}getBonus(){return this.misc.filteringMaxTech?this.ship.techBonus:this.ship.obtainBonus}enterLevel(){return(0,w.mG)(this,void 0,void 0,function*(){if(this.misc.isBulkSelect)return this.ship.isBulkSelected=!this.ship.isBulkSelected,this.ship.isBulkSelected?this.misc.bulkSelected.push(this.ship):this.misc.bulkSelected.splice(this.misc.bulkSelected.indexOf(this.ship),1),void(0==this.misc.bulkSelected.length&&(this.misc.isBulkSelect=!1));(yield this.modalController.create({component:se.p,animated:!1,componentProps:{ship:this.ship,name:this.ship.name,level:this.ship.level,isObtained:this.ship.isObtained}})).present()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.IN),e.Y36(A.x),e.Y36(v.Y),e.Y36(C.P),e.Y36(U.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ship-card"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ge,5),2&t){let s;e.iGM(s=e.CRH())&&(i.levelInput=s.first)}},inputs:{ship:"ship",currentCategory:"currentCategory"},decls:16,vars:25,consts:[["title","Click to edit level",3,"click"],["card",""],[3,"ngClass"],["class","selected-text",4,"ngIf"],[1,"ship-info-overlay","hull",3,"ngClass"],[2,"display","flex"],[1,"ship-hull-icon",3,"title","src"],[3,"class","src",4,"ngIf"],["class","double-stats-text",4,"ngIf"],["class","ship-level Lv-text",4,"ngIf"],["name","checkmark-outline","class","done-checkmark",4,"ngIf"],[1,"ship-name-text",3,"ngClass"],["decoding","async","style","display: none",3,"src","error","load",4,"ngIf"],[4,"ngIf"],[1,"selected-text"],[3,"src"],[1,"double-stats-text"],[1,"ship-level","Lv-text"],["name","checkmark-outline",1,"done-checkmark"],["decoding","async",2,"display","none",3,"src","error","load"],["src","assets/noship.png",3,"class","ngClass",4,"ngIf"],["class","ship-thumbnail UR-or-decisive","src","assets/noship.png",3,"ngClass",4,"ngIf"],["src","assets/noship.png",3,"ngClass"],["src","assets/noship.png",1,"ship-thumbnail","UR-or-decisive",3,"ngClass"],["decoding","async","loading","lazy",3,"src","class","ngClass",4,"ngIf"],["decoding","async","loading","lazy","class","ship-thumbnail UR-or-decisive",3,"src","ngClass",4,"ngIf"],["decoding","async","loading","lazy",3,"src","ngClass"],["decoding","async","loading","lazy",1,"ship-thumbnail","UR-or-decisive",3,"src","ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(){return i.enterLevel()}),e._UZ(2,"div",2),e.YNc(3,We,2,0,"p",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e._UZ(6,"ion-img",6),e.YNc(7,Ke,1,4,"ion-img",7),e.YNc(8,$e,2,1,"p",8),e.qZA(),e.YNc(9,Xe,2,1,"p",9),e.YNc(10,et,1,0,"ion-icon",10),e.qZA(),e.TgZ(11,"p",11),e._uU(12),e.qZA(),e.YNc(13,tt,1,1,"img",12),e.YNc(14,ot,3,2,"ng-container",13),e.YNc(15,at,3,2,"ng-container",13),e.qZA()),2&t&&(e.IyS("ship-card-container fade-",i.fadeCSS," ","-1"==i.ship.id?"invisible":""," ",i.ship.isObtained?"":"unobtained",""),e.xp6(2),e.Q6J("ngClass",e.VKq(19,lt,i.ship.isBulkSelected)),e.xp6(1),e.Q6J("ngIf",i.ship.isBulkSelected),e.xp6(1),e.Q6J("ngClass",e.VKq(21,O,i.scaleThumbnail)),e.xp6(2),e.Q6J("title",i.hoverTitles.hulls[i.hull]+" ("+i.hull+")")("src","assets/icons/frame hull icons/"+i.hull+".png"),e.xp6(1),e.Q6J("ngIf",null!=i.stat),e.xp6(1),e.Q6J("ngIf",null!=i.stat),e.xp6(1),e.Q6J("ngIf",i.ship.level<120),e.xp6(1),e.Q6J("ngIf",i.ship.level>=120),e.xp6(1),e.Q6J("ngClass",e.VKq(23,O,i.scaleThumbnail)),e.xp6(1),e.Oqu(i.ship.name),e.xp6(1),e.Q6J("ngIf",!i.loadedImage),e.xp6(1),e.Q6J("ngIf",!i.loadedImage),e.xp6(1),e.Q6J("ngIf",i.loadedImage))},directives:[p.mk,p.O5,u.Xz,u.gu],styles:['.ship-thumbnail[_ngcontent-%COMP%]{width:100px;height:calc(144px * var(--ship-card-zoom));border-right:0;border-left:0;border-radius:5px;pointer-events:none;position:relative;z-index:-1;transform-origin:top left}.ship-thumbnail.ship-rarity-Common[_ngcontent-%COMP%]{border:calc(5px * var(--ship-card-zoom)) solid #A5AAB5;border-right:0;border-left:0;background:linear-gradient(0deg,#BDC7CE 44%,#6B697B 99%)}.ship-thumbnail.ship-rarity-Rare[_ngcontent-%COMP%]{border:calc(5px * var(--ship-card-zoom)) solid #6abff7;border-right:0;border-left:0;background:linear-gradient(0deg,#89C3F9 44%,#42617C 99%)}.ship-thumbnail.ship-rarity-Elite[_ngcontent-%COMP%]{border:calc(5px * var(--ship-card-zoom)) solid #9b8eff;border-right:0;border-left:0;background:linear-gradient(0deg,#AD96FF 44%,#53497B 99%)}.ship-thumbnail.ship-rarity-Super-Rare[_ngcontent-%COMP%]{border:calc(5px * var(--ship-card-zoom)) solid #f7d84b;border-right:0;border-left:0;background:linear-gradient(0deg,#f7cf52 44%,#807539 99%)}.ship-thumbnail.UR-or-decisive[_ngcontent-%COMP%]{background-image:url(UR\\ border.4979bb4c21e8a80a.png);border:calc(5px * var(--ship-card-zoom)) solid transparent;border-right:0;border-left:0}.ship-thumbnail.set-outline[_ngcontent-%COMP%]{transition:outline 0s;outline:5px solid lime}.ship-thumbnail.remove-outline[_ngcontent-%COMP%]{transition:outline .5s;outline:7px solid rgba(0,255,0,0)}.ship-thumbnail.scale[_ngcontent-%COMP%]{transform:scaleX(var(--ship-card-zoom));transform-origin:top}.ship-hull-icon[_ngcontent-%COMP%]{height:15.08px;z-index:1;float:left;-webkit-user-select:none;user-select:none;-webkit-user-drag:none}.ship-hull-icon.FP[_ngcontent-%COMP%]{width:20px}.ship-hull-icon.applicable[_ngcontent-%COMP%]{position:relative;transform:translateY(2px)}.applicable-ship-hull-icon-container[_ngcontent-%COMP%]{transform:translateY(-28px);position:absolute;margin:5px auto auto;background:#00000099;height:19px;width:100px;border-radius:0 0 5px 5px}.ship-level[_ngcontent-%COMP%]{font-family:AgencyGothic;text-align:right;font-size:17px;margin:0;-webkit-user-select:none;user-select:none;transform:translateY(-1.5px);color:#fff;cursor:pointer}.ship-level.input[_ngcontent-%COMP%]{height:20px;width:25px;margin-right:5px}.ship-name-text[_ngcontent-%COMP%]{transform-origin:bottom left;font-family:ship-name;text-align:center;font-size:13px;font-weight:bold;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-left:5px;padding-right:5px;-webkit-user-select:none;user-select:none;color:#fff;position:absolute;background:rgba(0,0,0,.43);width:calc(100% / var(--ship-card-zoom));bottom:calc(25px * var(--ship-card-zoom));transform:scale(var(--ship-card-zoom));margin:0}.ship-name-text.scale[_ngcontent-%COMP%]{transform-origin:bottom;width:100%}.double-stats-text[_ngcontent-%COMP%]{transform:translateY(1.5px);font-family:ship-name;font-weight:bold;font-size:10px;margin:0;float:left;-webkit-user-select:none;user-select:none;color:#fff}.ship-card-container[_ngcontent-%COMP%]{will-change:transform;margin-bottom:4px;display:inline-block;position:relative;cursor:pointer;z-index:0;filter:none;transform:none;transition:opacity .5s;opacity:0}.ship-card-container.dragged[_ngcontent-%COMP%]{position:relative;z-index:99;filter:drop-shadow(0px 0px 20px black)}.ship-card-container.fade-in[_ngcontent-%COMP%]{opacity:1}.ship-card-container.unobtained[_ngcontent-%COMP%]{filter:brightness(.65)}.ship-card-container.invisible[_ngcontent-%COMP%]{pointer-events:none;opacity:0}.invisible-ship-card[_ngcontent-%COMP%]{width:116px;height:144px;display:inline-block;margin-bottom:8px}.done-checkmark[_ngcontent-%COMP%]{color:#32cd32;--ionicon-stroke-width: 64px;float:right}.flash[_ngcontent-%COMP%]{position:absolute;height:144px;width:100%;border-radius:5px;z-index:1;pointer-events:none}.flash.in[_ngcontent-%COMP%]{animation:flash 2s}@keyframes flash{0%{background-color:#00c800}to{background-color:#00c80000}}.bulk-select[_ngcontent-%COMP%]{position:absolute;height:calc(144px * var(--ship-card-zoom));width:100%;border-radius:5px;z-index:1;pointer-events:none;background:rgb(255,255,255,var(--selected-ship-glow-opacity));transition:background-color 2s}.selected-text[_ngcontent-%COMP%]{position:absolute;font-family:"AgencyGothic";font-size:15px;text-align:center;width:calc(100% / var(--ship-card-zoom));transform:scale(var(--ship-card-zoom));padding-top:45px;font-weight:bold;color:#fff;letter-spacing:2px;text-shadow:0 1px 2px #000000,0 -1px 3px #000000;z-index:1;transform-origin:top left}.ship-info-overlay[_ngcontent-%COMP%]{background:#0000006e;height:15px;width:100px;position:absolute;display:inline-block;transform:scale(var(--ship-card-zoom))}.ship-info-overlay.hull[_ngcontent-%COMP%]{display:flex;justify-content:space-between;transform-origin:top left;padding-right:5px;top:calc(5px * var(--ship-card-zoom))}.ship-info-overlay.hull.scale[_ngcontent-%COMP%]{transform-origin:top}']}),n})();var re=l(5831);function ht(n,o){1&n&&e._UZ(0,"app-feature-panel")}function dt(n,o){1&n&&e._UZ(0,"app-ship-card-list",3)}const pt=function(n){return{desktop:n}};let ae=(()=>{class n{constructor(t,i){this.misc=t,this.shipsService=i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.Y),e.Y36(C.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-icon-ui"]],decls:3,vars:5,consts:[[1,"container",3,"ngClass"],[4,"ngIf"],["class","ship-list",4,"ngIf"],[1,"ship-list"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ht,1,0,"app-feature-panel",1),e.YNc(2,dt,1,0,"app-ship-card-list",2),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(3,pt,!i.misc.isMobile)),e.xp6(1),e.Q6J("ngIf",!i.misc.isMobile),e.xp6(1),e.Q6J("ngIf",0!=i.shipsService.ships.length))},directives:[p.mk,p.O5,re.F,oe],styles:[".category[_ngcontent-%COMP%]{display:inline-block;margin:10px}.category.selected[_ngcontent-%COMP%]{background:linear-gradient(180deg,#4a6994 0%,#4a82ce 98%,#f9fcff 99%);border-left:1px solid #4a6994;border-right:1px solid #4a6994}.category.unselected[_ngcontent-%COMP%]{background:linear-gradient(180deg,#6b7584 0%,#7b8ea5 95%,#bbc9d4 96%);border-left:1px solid #bbc9d4;border-right:1px solid #bbc9d4;cursor:pointer}.category-text[_ngcontent-%COMP%]{text-align:center;margin:5px 10px;-webkit-user-select:none;user-select:none;display:inline-block;color:#fff}.category-container[_ngcontent-%COMP%]{display:inline-block}.categories[_ngcontent-%COMP%]{margin-bottom:20px}.container.desktop[_ngcontent-%COMP%]{display:flex;padding-left:50px;padding-right:100px;align-items:flex-end;justify-content:center}.ship-list[_ngcontent-%COMP%]{flex-basis:50%;flex-shrink:0}",".main-content[_ngcontent-%COMP%]{--ion-background-color: #002454;--overflow: overlay}.main-content.mobile[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{margin:0}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px}.header-container.mobile[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:10px;margin-bottom:10px}.header-img[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px}.header-img.mobile[_ngcontent-%COMP%]{width:40px;height:40px}.header-title[_ngcontent-%COMP%]{margin-right:10px;margin-top:0;margin-bottom:0}.header-title.mobile[_ngcontent-%COMP%]{font-size:16px}.header-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px;margin-right:10px;cursor:pointer}.header-button[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:10px}.content[_ngcontent-%COMP%]{flex-direction:column;width:100%;min-width:0;position:relative;-webkit-user-select:none;user-select:none;display:flex}.content.mobile[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.background[_ngcontent-%COMP%]{width:100%;height:100vh;position:fixed;opacity:0;transition:opacity 1s;-webkit-user-select:none;user-select:none;pointer-events:none;background:url(blueprint_bg.5c5f2ad60108b038.webp);background-size:cover}.background.mobile[_ngcontent-%COMP%]{background:url(blueprint_bg_mobile.66b992c8c680e51e.webp);background-size:cover}.background.fade-in[_ngcontent-%COMP%]{opacity:.5}.sort-and-filter-text[_ngcontent-%COMP%]{position:fixed;transform:translate(-55px,40vh) rotate(90deg);margin:0;z-index:99;cursor:pointer}.side-menu-burger-icon[_ngcontent-%COMP%]{padding-right:10px;font-size:30px;color:#ccebff}.not-loaded[_ngcontent-%COMP%]{display:none}"]}),n})();var gt=l(2050);function ut(n,o){1&n&&(e.TgZ(0,"p",5),e._uU(1,"No ships fit this criteria."),e.qZA())}const le=function(n){return{mobile:n}};function ft(n,o){if(1&n&&(e.TgZ(0,"table",6),e.TgZ(1,"tbody"),e.TgZ(2,"tr",7),e.TgZ(3,"th",8),e._uU(4,"Ship"),e.qZA(),e.TgZ(5,"th",9),e._uU(6,"Stat"),e.qZA(),e.TgZ(7,"th",10),e._uU(8,"Lv."),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngClass",e.VKq(1,le,t.misc.isMobile))}}const mt=function(n){return{unobtained:n}};function _t(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"tr",14),e.BQk()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(2,mt,!t.isObtained))("ship",t)}}const xt=function(n,o){return{mobile:n,on:o}};function bt(n,o){if(1&n&&(e.TgZ(0,"cdk-virtual-scroll-viewport",11),e.TgZ(1,"table",12),e.TgZ(2,"tbody"),e.TgZ(3,"tr",7),e.TgZ(4,"th",8),e._uU(5,"Ship"),e.qZA(),e.TgZ(6,"th",9),e._uU(7,"Stat"),e.qZA(),e.TgZ(8,"th",10),e._uU(9,"Lv."),e.qZA(),e.qZA(),e.YNc(10,_t,2,4,"ng-container",13),e.qZA(),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.WLB(4,xt,t.misc.isMobile,t.isFading))("itemSize",30),e.xp6(3),e.Q6J("ngClass",e.VKq(7,le,t.misc.isMobile)),e.xp6(7),e.Q6J("cdkVirtualForOf",t.ships)}}const vt=function(n){return{on:n}};let Q=(()=>{class n{constructor(t,i,s,r){this.filter=t,this.shipsService=i,this.sort=s,this.misc=r,this.isLoading=!0,this.isFading=!1,this.ships=[],this.placeholderShips=[]}ngOnInit(){this.misc.sheetTable=this,this.filter.filter()}ngOnDestroy(){this.misc.sheetTable=null}refresh(){this.misc.hasFocus?(this.misc.blurOnShipListLoad=!1,this.placeholderShips=this.ships.slice(),this.ships=[],this.isLoading=!0,this.isFading=!1,setTimeout(()=>{this.isLoading=!1,this.shipsService.setAllProperShipPos(this.sort.immediateSort(this.shipsService.ships)).forEach(t=>{this.misc.shipsFilterPass[t.id]&&this.ships.push(t)})}),setTimeout(()=>{this.isFading=!0},50)):this.misc.blurOnShipListLoad=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k.i),e.Y36(C.P),e.Y36(Y.K),e.Y36(v.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sheet-table"]],decls:5,vars:8,consts:[[1,"main-container"],["t","",1,"should-fade",3,"shouldDisplay","removeCogs","ngClass"],["class","generic-text no-ships-text",4,"ngIf"],["class","table","style","visibility: hidden;",4,"ngIf"],["class","table should-fade",3,"ngClass","itemSize",4,"ngIf"],[1,"generic-text","no-ships-text"],[1,"table",2,"visibility","hidden"],[1,"row",3,"ngClass"],["title","Click to edit category",1,"category-header","ship","border"],["title","Ships give these corresponding stats and their count at lv. 120",1,"category-header","stat","border"],["title","Click to change every ship's level in this category",1,"category-header","level","border"],[1,"table","should-fade",3,"ngClass","itemSize"],[1,"loaded"],[4,"cdkVirtualFor","cdkVirtualForOf"],["app-sheet-ship-row","",1,"row",3,"ngClass","ship"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-quick-tech-view",1),e.YNc(2,ut,2,0,"p",2),e.YNc(3,ft,9,3,"table",3),e.YNc(4,bt,11,9,"cdk-virtual-scroll-viewport",4),e.qZA()),2&t&&(e.xp6(1),e.Q6J("shouldDisplay",i.ships.length>0)("removeCogs",!0)("ngClass",e.VKq(6,vt,i.isFading)),e.xp6(1),e.Q6J("ngIf",!i.isLoading&&0==i.ships.length),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("ngIf",!i.isLoading&&i.ships.length>0))},styles:[".main-container[_ngcontent-%COMP%]{text-align:center;transform:translateY(4px);display:flex;flex-direction:column;align-items:center;height:85vh}.table[_ngcontent-%COMP%]{display:inline-block;text-align:left;overflow-y:auto;height:80vh;width:80%}.table.mobile[_ngcontent-%COMP%]{height:85vh;width:90vw}.table[_ngcontent-%COMP%]   .loaded[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.category-header[_ngcontent-%COMP%]{background:#004299;height:30px;color:#fff;border:1.5px solid white;cursor:pointer}.category-header.ship[_ngcontent-%COMP%]{padding-left:5px;width:75%}.category-header.stat[_ngcontent-%COMP%]{text-align:center;width:15%}.category-header.level[_ngcontent-%COMP%]{text-align:right;width:10%}.row[_ngcontent-%COMP%]{height:30px;width:100%;border:1.5px solid white}.row.unobtained[_ngcontent-%COMP%]{filter:brightness(.65);border-color:#a5a5a5}.should-fade[_ngcontent-%COMP%]{opacity:0;transition:opacity 0s}.should-fade.on[_ngcontent-%COMP%]{transition:opacity .25s;opacity:1}.no-ships-text[_ngcontent-%COMP%]{margin:0}"]}),n})();function Ct(n,o){1&n&&e._UZ(0,"app-feature-panel")}const wt=function(n){return{desktop:n}};function yt(n,o){if(1&n&&e._UZ(0,"app-sheet-table",5),2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(1,wt,!t.misc.isMobile))}}const St=function(n){return{mobile:n}};function Ot(n,o){if(1&n&&(e.TgZ(0,"div",1,2),e.YNc(2,Ct,1,0,"app-feature-panel",3),e.YNc(3,yt,1,3,"app-sheet-table",4),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(3,St,t.misc.isMobile)),e.xp6(2),e.Q6J("ngIf",!t.misc.isMobile),e.xp6(1),e.Q6J("ngIf",0!=t.shipsService.ships.length)}}const Mt=function(){return[]};let Tt=(()=>{class n{constructor(t,i,s,r,a){this.home=t,this.filter=i,this.shipsService=s,this.app=r,this.misc=a}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ie.U),e.Y36(k.i),e.Y36(C.P),e.Y36(gt.y),e.Y36(v.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sheet-ui"]],decls:1,vars:2,consts:[["class","container",3,"ngClass",4,"ngIf"],[1,"container",3,"ngClass"],["container",""],[4,"ngIf"],["class","grid",3,"ngClass",4,"ngIf"],[1,"grid",3,"ngClass"]],template:function(t,i){1&t&&e.YNc(0,Ot,4,5,"div",0),2&t&&e.Q6J("ngIf",i.misc.shipsFilterPass!=e.DdM(1,Mt))},directives:[p.O5,p.mk,re.F,Q],styles:[".container[_ngcontent-%COMP%]{color:#000;display:flex;align-items:flex-end;padding-left:50px;padding-right:100px;justify-content:center}.container.mobile[_ngcontent-%COMP%]{padding-right:5px;justify-content:flex-end}.grid[_ngcontent-%COMP%]{flex-basis:60%}.grid.desktop[_ngcontent-%COMP%]{padding-left:50px}",".main-content[_ngcontent-%COMP%]{--ion-background-color: #002454;--overflow: overlay}.main-content.mobile[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{margin:0}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px}.header-container.mobile[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:10px;margin-bottom:10px}.header-img[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px}.header-img.mobile[_ngcontent-%COMP%]{width:40px;height:40px}.header-title[_ngcontent-%COMP%]{margin-right:10px;margin-top:0;margin-bottom:0}.header-title.mobile[_ngcontent-%COMP%]{font-size:16px}.header-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px;margin-right:10px;cursor:pointer}.header-button[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:10px}.content[_ngcontent-%COMP%]{flex-direction:column;width:100%;min-width:0;position:relative;-webkit-user-select:none;user-select:none;display:flex}.content.mobile[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.background[_ngcontent-%COMP%]{width:100%;height:100vh;position:fixed;opacity:0;transition:opacity 1s;-webkit-user-select:none;user-select:none;pointer-events:none;background:url(blueprint_bg.5c5f2ad60108b038.webp);background-size:cover}.background.mobile[_ngcontent-%COMP%]{background:url(blueprint_bg_mobile.66b992c8c680e51e.webp);background-size:cover}.background.fade-in[_ngcontent-%COMP%]{opacity:.5}.sort-and-filter-text[_ngcontent-%COMP%]{position:fixed;transform:translate(-55px,40vh) rotate(90deg);margin:0;z-index:99;cursor:pointer}.side-menu-burger-icon[_ngcontent-%COMP%]{padding-right:10px;font-size:30px;color:#ccebff}.not-loaded[_ngcontent-%COMP%]{display:none}"]}),n})();function Pt(n,o){1&n&&(e.TgZ(0,"div",9),e._uU(1,"- SELECTED -"),e.qZA())}function kt(n,o){if(1&n&&e._UZ(0,"img",10),2&n){const t=e.oxw();e.Gre("ship-hull-icon ",t.getStat(),""),e.Udp("width",t.fleetTechStatIconWidths[t.getStat()]+"px")("height",t.fleetTechStatIconHeights[t.getStat()]+"px"),e.Q6J("alt",t.getStat())("src","assets/icons/stat icons/"+t.getStat()+".png",e.LSH)}}function It(n,o){if(1&n&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("+",t.getBonus(),"")}}function Lt(n,o){1&n&&(e.TgZ(0,"div",12),e._uU(1,"-"),e.qZA())}const ce=function(n){return{unobtained:n}};let Ft=(()=>{class n{constructor(t,i,s,r,a,h,c){this.filter=t,this.modalController=i,this.hoverTitles=s,this.sort=r,this.settingsData=a,this.shipsService=h,this.misc=c,this.flashCSS="out",this.fleetTechStatIconWidths={HP:16,AA:17,ASW:17,TRP:16,FP:22,EVA:17,HIT:16,AVI:17,RLD:15},this.fleetTechStatIconHeights={HP:16,AA:17,ASW:15,TRP:16,FP:12,EVA:17,HIT:16,AVI:17,RLD:15}}ngOnInit(){this.fleetTechHoverTitle=this.hoverTitles.getTechStatTitle(this.ship)}getHull(){return this.settingsData.checkBool("retrofit-forms")&&this.ship.hasRetrofit?this.ship.retroHull:this.ship.hull}getRarity(){return this.settingsData.checkBool("retrofit-forms")&&this.ship.hasRetrofit?this.shipsService.getRetroRarity(this.ship.id):this.ship.rarity}enterLevel(){return(0,w.mG)(this,void 0,void 0,function*(){if(this.misc.isBulkSelect)return this.ship.isBulkSelected=!this.ship.isBulkSelected,this.ship.isBulkSelected?this.misc.bulkSelected.push(this.ship):this.misc.bulkSelected.splice(this.misc.bulkSelected.indexOf(this.ship),1),void(0==this.misc.bulkSelected.length&&(this.misc.isBulkSelect=!1));const t=yield this.modalController.create({component:se.p,animated:!1,componentProps:{ship:this.ship,name:this.ship.name,level:this.ship.level,isObtained:this.ship.isObtained}});t.present(),t.onDidDismiss().then(i=>{"done"==i.data&&(this.flashCSS="in",setTimeout(()=>{this.flashCSS="out"}))})})}getStat(){return this.misc.filteringMaxTech?this.ship.techStat:this.ship.obtainStat}getBonus(){return this.misc.filteringMaxTech?this.ship.techBonus:this.ship.obtainBonus}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k.i),e.Y36(u.IN),e.Y36(A.x),e.Y36(Y.K),e.Y36(U.M),e.Y36(C.P),e.Y36(v.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-sheet-ship-row"],["","app-sheet-ship-row",""]],inputs:{ship:"ship",category:"category"},decls:11,vars:25,consts:[[3,"click"],[1,"ship-hull-icon",3,"alt","title","src"],["class","selected-text",4,"ngIf"],[3,"ngClass","title","click"],[1,"tech-stat-container"],[3,"alt","class","width","height","src",4,"ngIf"],["class","tech-bonus",4,"ngIf"],["class","tech-bonus none",4,"ngIf"],[3,"ngClass","click"],[1,"selected-text"],[3,"alt","src"],[1,"tech-bonus"],[1,"tech-bonus","none"]],template:function(t,i){1&t&&(e.TgZ(0,"td",0),e.NdJ("click",function(){return i.enterLevel()}),e._UZ(1,"img",1),e._uU(2),e.YNc(3,Pt,2,0,"div",2),e.qZA(),e.TgZ(4,"td",3),e.NdJ("click",function(){return i.enterLevel()}),e.TgZ(5,"div",4),e.YNc(6,kt,1,9,"img",5),e.YNc(7,It,2,1,"div",6),e.YNc(8,Lt,2,0,"div",7),e.qZA(),e.qZA(),e.TgZ(9,"td",8),e.NdJ("click",function(){return i.enterLevel()}),e._uU(10),e.qZA()),2&t&&(e.Gre("ship-name ",i.getRarity()," border"),e.xp6(1),e.Q6J("alt",i.ship.hull)("title",i.hoverTitles.hulls[i.getHull()]+" ("+i.getHull()+")")("src","assets/icons/frame hull icons/"+i.getHull()+".png",e.LSH),e.xp6(1),e.hij(" ",i.ship.name," "),e.xp6(1),e.Q6J("ngIf",i.ship.isBulkSelected),e.xp6(1),e.Gre("tech-stat border tech-stat ",i.getRarity(),""),e.Q6J("ngClass",e.VKq(21,ce,!i.ship.isObtained))("title",i.fleetTechHoverTitle),e.xp6(2),e.Q6J("ngIf",null!=i.getStat()),e.xp6(1),e.Q6J("ngIf",null!=i.getBonus()),e.xp6(1),e.Q6J("ngIf",null==i.getStat()),e.xp6(1),e.Gre("level over119-",i.ship.level>119," border level"),e.Q6J("ngClass",e.VKq(23,ce,!i.ship.isObtained)),e.xp6(1),e.Oqu(i.ship.level))},directives:[p.O5,p.mk],styles:['.slider[_ngcontent-%COMP%]{width:calc(100% - 20px);margin-left:10px;margin-right:10px;margin-bottom:10px;height:5px;position:absolute;transform:translate(50%,-20px);right:0}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{width:20px;height:20px;background:white;transform:rotate(45deg);border:3px solid #6E7F9C;outline:1px solid white;cursor:pointer}.ship-hull-icon[_ngcontent-%COMP%]{width:29.5px;z-index:1;-webkit-user-select:none;user-select:none;-webkit-user-drag:none;margin-right:5px;transform:translateY(2px)}.ship-hull-icon.FP[_ngcontent-%COMP%]{transform:translateY(3px)}.tech-bonus[_ngcontent-%COMP%]{display:inline-block;font-size:13px;transform:translateY(-2px);color:#fff;-webkit-text-stroke:.65px black;font-weight:900}.tech-bonus.cell[_ngcontent-%COMP%]{width:57px;transform:none}.tech-bonus.none[_ngcontent-%COMP%]{display:block;font-size:16px;text-align:center}.tech-stat-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:center}.tech-stat[_ngcontent-%COMP%]{width:50px;text-align:center;height:100%;position:relative;border:1px solid white}.level[_ngcontent-%COMP%]{width:40px;text-align:right;background-color:#ff4d4d;height:100%;position:relative;border:1px solid white;cursor:pointer}.level.over119-true[_ngcontent-%COMP%]{background-color:#49d049}.level.header[_ngcontent-%COMP%]{color:#fff}td[_ngcontent-%COMP%]{cursor:pointer}td.unobtained[_ngcontent-%COMP%]{border:1px solid #a5a5a5}.selected-text[_ngcontent-%COMP%]{font-family:"AgencyGothic";font-size:15px;font-weight:bold;color:#fff;letter-spacing:2px;text-shadow:0 1px 2px #000000,0 -1px 3px #000000;z-index:1;display:inline-block}.Common[_ngcontent-%COMP%]{background:#A5AAB5}.Rare[_ngcontent-%COMP%]{background:#6abff7}.Elite[_ngcontent-%COMP%]{background:#9b8eff}.Super-Rare[_ngcontent-%COMP%]{background:#ffd100}.Ultra-Rare[_ngcontent-%COMP%]{background:#ff6c4f}',".main-container[_ngcontent-%COMP%]{text-align:center;transform:translateY(4px);display:flex;flex-direction:column;align-items:center;height:85vh}.table[_ngcontent-%COMP%]{display:inline-block;text-align:left;overflow-y:auto;height:80vh;width:80%}.table.mobile[_ngcontent-%COMP%]{height:85vh;width:90vw}.table[_ngcontent-%COMP%]   .loaded[_ngcontent-%COMP%]{table-layout:fixed;width:100%}.category-header[_ngcontent-%COMP%]{background:#004299;height:30px;color:#fff;border:1.5px solid white;cursor:pointer}.category-header.ship[_ngcontent-%COMP%]{padding-left:5px;width:75%}.category-header.stat[_ngcontent-%COMP%]{text-align:center;width:15%}.category-header.level[_ngcontent-%COMP%]{text-align:right;width:10%}.row[_ngcontent-%COMP%]{height:30px;width:100%;border:1.5px solid white}.row.unobtained[_ngcontent-%COMP%]{filter:brightness(.65);border-color:#a5a5a5}.should-fade[_ngcontent-%COMP%]{opacity:0;transition:opacity 0s}.should-fade.on[_ngcontent-%COMP%]{transition:opacity .25s;opacity:1}.no-ships-text[_ngcontent-%COMP%]{margin:0}"]}),n})();var Rt=l(8642),At=l(5282),he=l(3981),de=l(8621),pe=l(2261),Dt=l(2117),zt=l(8762);const Zt=["input"],Et=["autoResize"];let Bt=(()=>{class n{constructor(t,i,s,r,a){this.modalController=t,this.prompt=i,this.factionTechData=s,this.storage=r,this.shortenedNamesService=a,this.maxLevel=1,this.wasSlider=!0,this.missingTechPoints=0}ngOnInit(){return(0,w.mG)(this,void 0,void 0,function*(){const t=this.shortenedNamesService.factions[this.fullFactionName];this.maxLevel=this.factionTechData.maxLevels[t],this.sliderLevel=(yield this.storage.get(t))||0,this.checkTechPointsForLevel(),setTimeout(()=>{this.input.nativeElement.focus()},250)})}ngAfterViewInit(){this.prompt.init(this.autoResize.nativeElement.getBoundingClientRect().height,!0)}changeLastInput(t){this.wasSlider=t,this.textLevel=t?this.sliderLevel:this.input.nativeElement.value,this.checkTechPointsForLevel()}updateSlider(){null!=this.textLevel&&(this.sliderLevel=this.textLevel)}done(){this.modalController.dismiss(this.wasSlider?Math.min(this.sliderLevel,this.maxLevel):Math.min(this.textLevel,this.maxLevel))}checkTechPointsForLevel(){this.missingTechPoints=0;let t=this.sliderLevel;if(this.wasSlider||(t=this.textLevel),!t||0==t)return void(this.missingTechPoints=0);const s=this.factionTechData.requiredFactionTechPoints[t]["Iron Blood"==this.fullFactionName?"kms":"all"];this.techPoints<s&&(this.missingTechPoints=s-this.techPoints)}exit(){this.modalController.dismiss()}choseMarker(t){this.wasSlider=!0,this.sliderLevel=t,this.done()}ngOnDestroy(){this.prompt.exit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.IN),e.Y36(At.l),e.Y36(he.k),e.Y36(de.K),e.Y36(pe.P))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-faction-tech-level-editor"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Zt,5),e.Gf(Et,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.input=s.first),e.iGM(s=e.CRH())&&(i.autoResize=s.first)}},inputs:{fullFactionName:"fullFactionName",techPoints:"techPoints"},decls:21,vars:9,consts:[[3,"header","component"],[1,"prompt-info-background"],["autoResize",""],[1,"prompt-text"],[1,"slider-marker","l0"],["title","Instantly set level to 0",1,"prompt-text","inline-block","slider-text",3,"click"],[1,"slider-marker","max-level"],[1,"prompt-text","inline-block","slider-text",3,"title","click"],["type","range","min","0","title","Set level using this slider",1,"slider",3,"max","ngModel","ngModelChange"],[3,"ngSubmit"],["maxlength","3","title","Enter level as an input field","name","this is for the form",1,"prompt-input","centered",3,"value","ngModel","blur","ngModelChange"],["input",""],[1,"prompt","text","tech-point-warning"],[1,"prompt-buttons"],["text","Cancel","color","red",3,"click"],["text","Confirm","color","blue",3,"click"]],template:function(t,i){1&t&&(e._UZ(0,"app-prompt-header",0),e.TgZ(1,"div",1),e.TgZ(2,"div",null,2),e.TgZ(4,"p",3),e._uU(5,"Use markers, slider, or input field to enter level."),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"p",5),e.NdJ("click",function(){return i.choseMarker(0)}),e._uU(8,"0"),e.qZA(),e.qZA(),e.TgZ(9,"div",6),e.TgZ(10,"p",7),e.NdJ("click",function(){return i.choseMarker(i.maxLevel)}),e._uU(11),e.qZA(),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(r){return i.sliderLevel=r})("ngModelChange",function(){return i.changeLastInput(!0)}),e.qZA(),e.TgZ(13,"form",9),e.NdJ("ngSubmit",function(){return i.done()}),e.TgZ(14,"input",10,11),e.NdJ("blur",function(){return i.updateSlider()})("ngModelChange",function(r){return i.textLevel=r})("ngModelChange",function(){return i.changeLastInput(!1)}),e.qZA(),e.qZA(),e.TgZ(16,"p",12),e._uU(17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",13),e.TgZ(19,"app-prompt-button",14),e.NdJ("click",function(){return i.exit()}),e.qZA(),e.TgZ(20,"app-prompt-button",15),e.NdJ("click",function(){return i.done()}),e.qZA(),e.qZA()),2&t&&(e.MGl("header","EDIT LEVEL - ",i.fullFactionName.toUpperCase(),""),e.Q6J("component",i),e.xp6(10),e.MGl("title","Instantly set level to ",i.maxLevel,""),e.xp6(1),e.Oqu(i.maxLevel),e.xp6(1),e.Q6J("max",i.maxLevel)("ngModel",i.sliderLevel),e.xp6(2),e.Q6J("value",i.sliderLevel)("ngModel",i.textLevel),e.xp6(3),e.hij(" ",0==i.missingTechPoints?" ":"You need "+i.missingTechPoints+" more tech points to unlock it in-game!"," "))},directives:[Dt.V,b.eT,b.Fj,b.JJ,b.On,b._Y,b.JL,b.F,b.nD,zt.d],styles:[".slider-marker[_ngcontent-%COMP%]{position:absolute;margin-top:0;width:calc(100% - 40px)}.slider-marker.l0[_ngcontent-%COMP%]{transform:translate(.8%,-12px)}.slider-marker.max-level[_ngcontent-%COMP%]{transform:translate(97%,-12px)}.slider-marker[_ngcontent-%COMP%]   .slider-text[_ngcontent-%COMP%]{cursor:pointer}.tech-point-warning[_ngcontent-%COMP%]{color:#fff;margin:0 0 0 10px;font-weight:bold;white-space:break-spaces}",".slider[_ngcontent-%COMP%]{-webkit-appearance:none;width:calc(100% - 20px);margin:30px 10px 10px;height:5px;cursor:pointer}.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;transform:rotate(45deg);background:white;border:3px solid #6E7F9C;outline:1px solid white;cursor:pointer}"]}),n})();var ge=l(2195);const Nt=function(n){return{mobile:n}};let Vt=(()=>{class n{constructor(t,i){this.shortenedNames=t,this.misc=i}ngOnInit(){return(0,w.mG)(this,void 0,void 0,function*(){})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(pe.P),e.Y36(v.Y))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-faction-tech-box"]],inputs:{fullFactionName:"fullFactionName",level:"level",techPoints:"techPoints"},decls:14,vars:9,consts:[[1,"box",3,"ngClass","title"],[1,"name"],[1,"level-container"],[1,"level","Lv"],[1,"level","number"],[1,"faction-img",3,"alt","src"],["title","Tech Points",1,"tech-points-container"],["src","assets/techPoints.png",1,"img"],[1,"generic-text"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"p",3),e._uU(5,"Lv."),e.qZA(),e.TgZ(6,"p",4),e._uU(7),e.qZA(),e.qZA(),e._UZ(8,"img",5),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"div",6),e._UZ(11,"ion-img",7),e.TgZ(12,"p",8),e._uU(13),e.qZA(),e.qZA()),2&t&&(e.MGl("title","Click to view ",i.fullFactionName," tech bonuses"),e.Q6J("ngClass",e.VKq(7,Nt,i.misc.isMobile)),e.xp6(2),e.Oqu(i.fullFactionName),e.xp6(5),e.Oqu(i.level),e.xp6(1),e.MGl("src","assets/icons/unselected faction icons/",i.shortenedNames.factions[i.fullFactionName],".png",e.LSH),e.Q6J("alt",i.fullFactionName),e.xp6(5),e.hij(": ",i.techPoints,""))},directives:[p.mk,u.Xz],styles:[".box[_ngcontent-%COMP%]{display:inline-block;width:200px;height:200px;margin:10px;background:#213052bf;border-left:2px solid #40789d;border-right:2px solid #40537E;border-bottom:2px solid #40537E;cursor:pointer}.box.mobile[_ngcontent-%COMP%]{zoom:.75}.faction-img[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to bottom,black,rgba(0,0,0,0));mask-image:linear-gradient(to bottom,black,rgba(0,0,0,0));position:absolute;transform:translate(-50%,-50%);width:125px;margin-top:90px}.level[_ngcontent-%COMP%]{font-family:faction-tech;display:inline-block;margin:0;color:#fff}.level.number[_ngcontent-%COMP%]{font-size:50px}.level-container[_ngcontent-%COMP%]{text-align:center;width:200px;padding-top:50px;z-index:1;position:absolute}.name[_ngcontent-%COMP%]{font-weight:bold;font-style:italic;background:linear-gradient(90deg,#4b6da7 0%,rgba(33,48,82,.75) 79%);padding-left:7px;width:199px;text-align:left;margin:-2.5px -2.5px -2.5px -4px;color:#fff;border-top:2px solid white;border-left:2px solid white;border-right-width:0;border-image:linear-gradient(to bottom right,#CEEEF7 0%,#38547A 50%) 1 stretch}.tech-points-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:5px;height:26px}.tech-points-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:30px}.tech-points-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}",".main-content[_ngcontent-%COMP%]{--ion-background-color: #002454;--overflow: overlay}.main-content.mobile[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{margin:0}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px}.header-container.mobile[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:10px;margin-bottom:10px}.header-img[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px}.header-img.mobile[_ngcontent-%COMP%]{width:40px;height:40px}.header-title[_ngcontent-%COMP%]{margin-right:10px;margin-top:0;margin-bottom:0}.header-title.mobile[_ngcontent-%COMP%]{font-size:16px}.header-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px;margin-right:10px;cursor:pointer}.header-button[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:10px}.content[_ngcontent-%COMP%]{flex-direction:column;width:100%;min-width:0;position:relative;-webkit-user-select:none;user-select:none;display:flex}.content.mobile[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.background[_ngcontent-%COMP%]{width:100%;height:100vh;position:fixed;opacity:0;transition:opacity 1s;-webkit-user-select:none;user-select:none;pointer-events:none;background:url(blueprint_bg.5c5f2ad60108b038.webp);background-size:cover}.background.mobile[_ngcontent-%COMP%]{background:url(blueprint_bg_mobile.66b992c8c680e51e.webp);background-size:cover}.background.fade-in[_ngcontent-%COMP%]{opacity:.5}.sort-and-filter-text[_ngcontent-%COMP%]{position:fixed;transform:translate(-55px,40vh) rotate(90deg);margin:0;z-index:99;cursor:pointer}.side-menu-burger-icon[_ngcontent-%COMP%]{padding-right:10px;font-size:30px;color:#ccebff}.not-loaded[_ngcontent-%COMP%]{display:none}"]}),n})();var Yt=l(6004),ue=l(7251);function Ut(n,o){if(1&n&&(e.TgZ(0,"div",5),e.TgZ(1,"p",6),e._uU(2),e.qZA(),e.qZA()),2&n){const t=o.$implicit,i=e.oxw().$implicit,s=e.oxw();e.xp6(2),e.AsE(" ",t,": ",s.statsObject[i][t]," ")}}function Jt(n,o){if(1&n&&(e.TgZ(0,"div",2),e._UZ(1,"app-hull-icon",3),e.YNc(2,Ut,3,2,"div",4),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("hull",t)("width",52),e.xp6(1),e.Q6J("ngForOf",i.objectKeys(i.statsObject[t]))}}function Qt(n,o){if(1&n&&(e.TgZ(0,"p",7),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.emptyMsg)}}let qt=(()=>{class n{constructor(t){this.hoverTitles=t,this.objectKeys=Object.keys,this.anchor="center",this.isLastTech=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tech-hull-stat-display"]],inputs:{statsObject:"statsObject",anchor:"anchor",isLastTech:"isLastTech",emptyMsg:"emptyMsg"},decls:3,vars:7,consts:[["class","hull-stat-container",4,"ngFor","ngForOf"],["class","generic-text empty-text",4,"ngIf"],[1,"hull-stat-container"],[1,"hull-icon",3,"hull","width"],["class","child",4,"ngFor","ngForOf"],[1,"child"],[1,"generic-text","no-glow","inline-block","stat-text"],[1,"generic-text","empty-text"]],template:function(t,i){1&t&&(e.TgZ(0,"div"),e.YNc(1,Jt,3,3,"div",0),e.YNc(2,Qt,2,1,"p",1),e.qZA()),2&t&&(e.Akn("text-align:"+i.anchor),e.Tol(i.isLastTech?"last-tech":""),e.xp6(1),e.Q6J("ngForOf",i.objectKeys(i.statsObject).reverse()),e.xp6(1),e.Q6J("ngIf",0==i.objectKeys(i.statsObject).length))},directives:[p.sg,p.O5,ue.o],styles:[".hull-stat-container[_ngcontent-%COMP%]{display:inline-grid;text-align:left;margin:10px;zoom:.95}.hull-stat-container[_ngcontent-%COMP%]   .child[_ngcontent-%COMP%]{margin-bottom:5px}.hull-stat-container.faction[_ngcontent-%COMP%]{float:none}.hull-icon[_ngcontent-%COMP%]{margin-bottom:10px;width:52px;height:32px}.stat-text[_ngcontent-%COMP%]{margin:0}.last-tech[_ngcontent-%COMP%]{margin-bottom:200px}.empty-text[_ngcontent-%COMP%]{margin-bottom:50px}",".main-content[_ngcontent-%COMP%]{--ion-background-color: #002454;--overflow: overlay}.main-content.mobile[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{margin:0}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px}.header-container.mobile[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:10px;margin-bottom:10px}.header-img[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px}.header-img.mobile[_ngcontent-%COMP%]{width:40px;height:40px}.header-title[_ngcontent-%COMP%]{margin-right:10px;margin-top:0;margin-bottom:0}.header-title.mobile[_ngcontent-%COMP%]{font-size:16px}.header-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px;margin-right:10px;cursor:pointer}.header-button[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:10px}.content[_ngcontent-%COMP%]{flex-direction:column;width:100%;min-width:0;position:relative;-webkit-user-select:none;user-select:none;display:flex}.content.mobile[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.background[_ngcontent-%COMP%]{width:100%;height:100vh;position:fixed;opacity:0;transition:opacity 1s;-webkit-user-select:none;user-select:none;pointer-events:none;background:url(blueprint_bg.5c5f2ad60108b038.webp);background-size:cover}.background.mobile[_ngcontent-%COMP%]{background:url(blueprint_bg_mobile.66b992c8c680e51e.webp);background-size:cover}.background.fade-in[_ngcontent-%COMP%]{opacity:.5}.sort-and-filter-text[_ngcontent-%COMP%]{position:fixed;transform:translate(-55px,40vh) rotate(90deg);margin:0;z-index:99;cursor:pointer}.side-menu-burger-icon[_ngcontent-%COMP%]{padding-right:10px;font-size:30px;color:#ccebff}.not-loaded[_ngcontent-%COMP%]{display:none}"]}),n})();function jt(n,o){1&n&&e._UZ(0,"div",15)}const Ht=function(n){return{mobile:n}};function Gt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",16),e.TgZ(1,"app-generic-big-button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().changeLevel()}),e.qZA(),e.TgZ(2,"p",18),e._uU(3),e.qZA(),e._UZ(4,"app-tech-hull-stat-display",19),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(3,Ht,t.misc.isMobile)),e.xp6(2),e.Oqu(t.fullNames[t.viewingFaction]),e.xp6(1),e.Q6J("statsObject",t.fleetTech[t.viewingFaction])}}function Wt(n,o){1&n&&e._UZ(0,"ion-icon",20)}function Kt(n,o){1&n&&e._UZ(0,"ion-icon",21)}function $t(n,o){if(1&n&&e._UZ(0,"app-tech-hull-stat-display",19),2&n){const t=e.oxw();e.Q6J("statsObject",t.fleetTech.total)}}function Xt(n,o){1&n&&e._UZ(0,"ion-icon",20)}function en(n,o){1&n&&e._UZ(0,"ion-icon",21)}function tn(n,o){if(1&n&&e._UZ(0,"app-tech-hull-stat-display",22),2&n){const t=e.oxw();e.Q6J("statsObject",t.fleetTech.maxed)}}function nn(n,o){1&n&&e._UZ(0,"ion-icon",20)}function on(n,o){1&n&&e._UZ(0,"ion-icon",21)}function sn(n,o){if(1&n&&e._UZ(0,"app-tech-hull-stat-display",23),2&n){const t=e.oxw();e.Q6J("statsObject",t.fleetTech.obtain)("isLastTech",!0)}}const rn=function(n){return{desktop:n}};let an=(()=>{class n{constructor(t,i,s,r,a,h){this.factionTechData=t,this.hoverTitles=i,this.modalController=s,this.storage=r,this.misc=a,this.fleetTech=h,this.objectKeys=Object.keys,this.folded={total:!1,max:!1,obtain:!1},this.fullNames={USS:"Eagle Union",HMS:"Royal Navy",IJN:"Sakura Empire",KMS:"Iron Blood"}}ngOnInit(){return(0,w.mG)(this,void 0,void 0,function*(){this.fleetTech.refresh()})}openFactionTech(t){return(0,w.mG)(this,void 0,void 0,function*(){if(!this.factionTechData.levels[t]||0==this.factionTechData.levels[t])return this.viewingFaction=t,void this.changeLevel();this.viewingFaction=this.viewingFaction==t?null:t})}changeLevel(){return(0,w.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:Bt,animated:!1,componentProps:{fullFactionName:this.fullNames[this.viewingFaction],techPoints:this.fleetTech[`points${this.viewingFaction}`]}});t.present(),t.onDidDismiss().then(i=>{null!=i.data&&(this.factionTechData.levels[this.viewingFaction]=i.data,this.storage.set(this.viewingFaction,i.data)),this.fleetTech.refresh()})})}toggleFold(t){this.folded[t]=!this.folded[t]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(he.k),e.Y36(A.x),e.Y36(u.IN),e.Y36(de.K),e.Y36(v.Y),e.Y36(ge.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tech-summary"]],decls:23,vars:25,consts:[[1,"container",3,"ngClass"],["style","height: 10px;",4,"ngIf"],[1,"faction-box-container"],["fullFactionName","Eagle Union",3,"level","techPoints","click"],["fullFactionName","Royal Navy",3,"level","techPoints","click"],["fullFactionName","Sakura Empire",3,"level","techPoints","click"],["fullFactionName","Iron Blood",3,"level","techPoints","click"],["class","faction-tech-container",4,"ngIf"],[1,"generic-text","display-name",3,"click"],["name","caret-down-outline",4,"ngIf"],["name","caret-up-outline",4,"ngIf"],[3,"statsObject",4,"ngIf"],["emptyMsg","No ships at Lv. 120",3,"statsObject",4,"ngIf"],[3,"click"],["emptyMsg","No ships marked as obtained",3,"statsObject","isLastTech",4,"ngIf"],[2,"height","10px"],[1,"faction-tech-container"],["text","Change Level","extraCSS","inline-block",1,"change-level",3,"ngClass","click"],[1,"generic-text","faction-header"],[3,"statsObject"],["name","caret-down-outline"],["name","caret-up-outline"],["emptyMsg","No ships at Lv. 120",3,"statsObject"],["emptyMsg","No ships marked as obtained",3,"statsObject","isLastTech"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,jt,1,0,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"app-faction-tech-box",3),e.NdJ("click",function(){return i.openFactionTech("USS")}),e.qZA(),e.TgZ(4,"app-faction-tech-box",4),e.NdJ("click",function(){return i.openFactionTech("HMS")}),e.qZA(),e.TgZ(5,"app-faction-tech-box",5),e.NdJ("click",function(){return i.openFactionTech("IJN")}),e.qZA(),e.TgZ(6,"app-faction-tech-box",6),e.NdJ("click",function(){return i.openFactionTech("KMS")}),e.qZA(),e.qZA(),e.YNc(7,Gt,5,5,"div",7),e.TgZ(8,"p",8),e.NdJ("click",function(){return i.toggleFold("total")}),e._uU(9," --- Total Tech --- \xa0 "),e.YNc(10,Wt,1,0,"ion-icon",9),e.YNc(11,Kt,1,0,"ion-icon",10),e.qZA(),e.YNc(12,$t,1,1,"app-tech-hull-stat-display",11),e.TgZ(13,"p",8),e.NdJ("click",function(){return i.toggleFold("max")}),e._uU(14," --- 120 Tech --- \xa0 "),e.YNc(15,Xt,1,0,"ion-icon",9),e.YNc(16,en,1,0,"ion-icon",10),e.qZA(),e.YNc(17,tn,1,1,"app-tech-hull-stat-display",12),e.TgZ(18,"p",13),e.NdJ("click",function(){return i.toggleFold("obtain")}),e._uU(19," --- Obtain Tech --- \xa0 "),e.YNc(20,nn,1,0,"ion-icon",9),e.YNc(21,on,1,0,"ion-icon",10),e.qZA(),e.YNc(22,sn,1,2,"app-tech-hull-stat-display",14),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(23,rn,!i.misc.isMobile)),e.xp6(1),e.Q6J("ngIf",i.misc.isMobile),e.xp6(2),e.Q6J("level",i.factionTechData.levels.USS)("techPoints",i.fleetTech.pointsUSS),e.xp6(1),e.Q6J("level",i.factionTechData.levels.HMS)("techPoints",i.fleetTech.pointsHMS),e.xp6(1),e.Q6J("level",i.factionTechData.levels.IJN)("techPoints",i.fleetTech.pointsIJN),e.xp6(1),e.Q6J("level",i.factionTechData.levels.KMS)("techPoints",i.fleetTech.pointsKMS),e.xp6(1),e.Q6J("ngIf",null!=i.viewingFaction&&i.factionTechData.levels[i.viewingFaction]>0),e.xp6(3),e.Q6J("ngIf",!i.folded.total),e.xp6(1),e.Q6J("ngIf",i.folded.total),e.xp6(1),e.Q6J("ngIf",!i.folded.total),e.xp6(3),e.Q6J("ngIf",!i.folded.max),e.xp6(1),e.Q6J("ngIf",i.folded.max),e.xp6(1),e.Q6J("ngIf",!i.folded.max),e.xp6(1),e.Gre("generic-text display-name ",i.folded.obtain?"last-folded-margin":"",""),e.xp6(2),e.Q6J("ngIf",!i.folded.obtain),e.xp6(1),e.Q6J("ngIf",i.folded.obtain),e.xp6(1),e.Q6J("ngIf",!i.folded.obtain))},directives:[p.mk,p.O5,Vt,Yt.w,qt,u.gu],styles:[".container.desktop[_ngcontent-%COMP%]{padding-right:var(--dead-zone-margin);padding-left:var(--dead-zone-margin)}.faction-tech-container[_ngcontent-%COMP%]{background:#213052;width:100%;border:2px solid #3c4f79;margin-bottom:10px}.faction-box-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.change-level[_ngcontent-%COMP%]{position:absolute;right:200px}.change-level.mobile[_ngcontent-%COMP%]{right:70px;zoom:.75}.display-name[_ngcontent-%COMP%]{margin-bottom:0;cursor:pointer}.last-folded-margin[_ngcontent-%COMP%]{margin-bottom:50px}.faction-header[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}",".main-content[_ngcontent-%COMP%]{--ion-background-color: #002454;--overflow: overlay}.main-content.mobile[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{margin:0}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px}.header-container.mobile[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:10px;margin-bottom:10px}.header-img[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px}.header-img.mobile[_ngcontent-%COMP%]{width:40px;height:40px}.header-title[_ngcontent-%COMP%]{margin-right:10px;margin-top:0;margin-bottom:0}.header-title.mobile[_ngcontent-%COMP%]{font-size:16px}.header-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px;margin-right:10px;cursor:pointer}.header-button[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:10px}.content[_ngcontent-%COMP%]{flex-direction:column;width:100%;min-width:0;position:relative;-webkit-user-select:none;user-select:none;display:flex}.content.mobile[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.background[_ngcontent-%COMP%]{width:100%;height:100vh;position:fixed;opacity:0;transition:opacity 1s;-webkit-user-select:none;user-select:none;pointer-events:none;background:url(blueprint_bg.5c5f2ad60108b038.webp);background-size:cover}.background.mobile[_ngcontent-%COMP%]{background:url(blueprint_bg_mobile.66b992c8c680e51e.webp);background-size:cover}.background.fade-in[_ngcontent-%COMP%]{opacity:.5}.sort-and-filter-text[_ngcontent-%COMP%]{position:fixed;transform:translate(-55px,40vh) rotate(90deg);margin:0;z-index:99;cursor:pointer}.side-menu-burger-icon[_ngcontent-%COMP%]{padding-right:10px;font-size:30px;color:#ccebff}.not-loaded[_ngcontent-%COMP%]{display:none}"]}),n})();var ln=l(1382);let cn=(()=>{class n{constructor(){this.hulls={BB:["BB","BC","BBV"],CV:["CV","CVL"],DD:["DD","DDG"],CA:["CA","CB","BM"],SS:["SS","SSV"],CL:["CL"],Others:["AR","AE","BM"]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hn(n,o){if(1&n&&(e.ynx(0),e._UZ(1,"img",3),e.TgZ(2,"p",4),e._uU(3),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.hij(" Required: ",t.shipsService.cogReqs,"")}}function dn(n,o){if(1&n&&(e.TgZ(0,"p",7),e._UZ(1,"app-hull-icon",8),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("hull",t)("moveY",5),e.xp6(1),e.lnq(" ",i.filter.oneSelectedStat,": ",i.fleetTech.total[t]&&i.fleetTech.total[t][i.filter.oneSelectedStat]?i.fleetTech.total[t][i.filter.oneSelectedStat]:0," / ",i.fleetTech.full[t][i.filter.oneSelectedStat]," ")}}function pn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,dn,3,5,"p",6),e.BQk()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null!=i.fleetTech.full[t][i.filter.oneSelectedStat])}}function gn(n,o){if(1&n&&(e.ynx(0),e.YNc(1,pn,2,1,"ng-container",5),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.hullHierarchy.hulls[t.filter.oneSelectedHull])}}const un=function(n,o){return{mobile:n,sheet:o}};let fe=(()=>{class n{constructor(t,i,s,r,a){this.shipsService=t,this.filter=i,this.hullHierarchy=s,this.misc=r,this.fleetTech=a,this.shouldDisplay=!1,this.removeCogs=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.P),e.Y36(k.i),e.Y36(cn),e.Y36(v.Y),e.Y36(ge.C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-quick-tech-view"]],inputs:{shouldDisplay:"shouldDisplay",removeCogs:"removeCogs"},decls:4,vars:6,consts:[[1,"cog-and-tech",3,"ngClass"],[4,"ngIf"],[2,"display","inline-block","margin-right","20px"],["alt","Cog chips","src","assets/Cog Chip.png",1,"cog-image"],["title","Cognitive chips required to awaken all WIP (Work in progress) ships to 120",1,"generic-text","inline-block","cog-text"],[4,"ngFor","ngForOf"],["class","generic-text inline-block quick-tech",4,"ngIf"],[1,"generic-text","inline-block","quick-tech"],[1,"hull-icon",3,"hull","moveY"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,hn,4,1,"ng-container",1),e._UZ(2,"div",2),e.YNc(3,gn,2,1,"ng-container",1),e.qZA()),2&t&&(e.Q6J("ngClass",e.WLB(3,un,i.misc.isMobile&&"Icon"==i.misc.uiMode,"Sheet"==i.misc.uiMode)),e.xp6(1),e.Q6J("ngIf",i.shouldDisplay||!i.removeCogs),e.xp6(2),e.Q6J("ngIf",null!=i.filter.oneSelectedHull&&null!=i.filter.oneSelectedStat&&i.shouldDisplay))},directives:[p.mk,p.O5,p.sg,ue.o],styles:[".cog-and-tech[_ngcontent-%COMP%]{display:flex;width:100%;padding-left:20px;align-items:center;margin-bottom:2px}.cog-and-tech.mobile[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}.cog-and-tech.sheet[_ngcontent-%COMP%]{text-align:center;margin-bottom:5px;justify-content:center}.cog-and-tech[_ngcontent-%COMP%]   .cog-image[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:5px}.cog-and-tech.mobile-icon[_ngcontent-%COMP%]{z-index:1}.cog-and-tech.mobile-icon[_ngcontent-%COMP%]   .cog-text[_ngcontent-%COMP%]{margin:0}.cog-and-tech[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap}.quick-tech[_ngcontent-%COMP%]{margin-right:15px;margin-left:5px;margin-bottom:0;white-space:pre}.include-no-tech[_ngcontent-%COMP%]{float:right;transform:translateY(15px)}.include-no-tech[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin:0}",".main-content[_ngcontent-%COMP%]{--ion-background-color: #002454;--overflow: overlay}.main-content.mobile[_ngcontent-%COMP%]{text-align:center}p[_ngcontent-%COMP%]{margin:0}.header-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:20px}.header-container.mobile[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:10px;margin-bottom:10px}.header-img[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:10px}.header-img.mobile[_ngcontent-%COMP%]{width:40px;height:40px}.header-title[_ngcontent-%COMP%]{margin-right:10px;margin-top:0;margin-bottom:0}.header-title.mobile[_ngcontent-%COMP%]{font-size:16px}.header-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-left:10px;margin-right:10px;cursor:pointer}.header-button[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:10px}.content[_ngcontent-%COMP%]{flex-direction:column;width:100%;min-width:0;position:relative;-webkit-user-select:none;user-select:none;display:flex}.content.mobile[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.background[_ngcontent-%COMP%]{width:100%;height:100vh;position:fixed;opacity:0;transition:opacity 1s;-webkit-user-select:none;user-select:none;pointer-events:none;background:url(blueprint_bg.5c5f2ad60108b038.webp);background-size:cover}.background.mobile[_ngcontent-%COMP%]{background:url(blueprint_bg_mobile.66b992c8c680e51e.webp);background-size:cover}.background.fade-in[_ngcontent-%COMP%]{opacity:.5}.sort-and-filter-text[_ngcontent-%COMP%]{position:fixed;transform:translate(-55px,40vh) rotate(90deg);margin:0;z-index:99;cursor:pointer}.side-menu-burger-icon[_ngcontent-%COMP%]{padding-right:10px;font-size:30px;color:#ccebff}.not-loaded[_ngcontent-%COMP%]{display:none}"]}),n})();function D(n,o=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):o}var m=l(3405),I=l(2411),M=l(5548),me=l(9506),q=l(6339),j=l(5192);const vn=new class extends j.v{flush(o){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,s=-1,r=t.length;o=o||t.shift();do{if(i=o.execute(o.state,o.delay))break}while(++s<r&&(o=t.shift()));if(this.active=!1,i){for(;++s<r&&(o=t.shift());)o.unsubscribe();throw i}}}(class extends q.o{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,i=0){return null!==i&&i>0?super.requestAsyncId(o,t,i):(o.actions.push(this),o.scheduled||(o.scheduled=requestAnimationFrame(()=>o.flush(null))))}recycleAsyncId(o,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(o,t,i);0===o.actions.length&&(cancelAnimationFrame(t),o.scheduled=void 0)}});let Cn=1;const wn=Promise.resolve(),z={};function _e(n){return n in z&&(delete z[n],!0)}const xe={setImmediate(n){const o=Cn++;return z[o]=!0,wn.then(()=>_e(o)&&n()),o},clearImmediate(n){_e(n)}},On=new class extends j.v{flush(o){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,s=-1,r=t.length;o=o||t.shift();do{if(i=o.execute(o.state,o.delay))break}while(++s<r&&(o=t.shift()));if(this.active=!1,i){for(;++s<r&&(o=t.shift());)o.unsubscribe();throw i}}}(class extends q.o{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}requestAsyncId(o,t,i=0){return null!==i&&i>0?super.requestAsyncId(o,t,i):(o.actions.push(this),o.scheduled||(o.scheduled=xe.setImmediate(o.flush.bind(o,null))))}recycleAsyncId(o,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(o,t,i);0===o.actions.length&&(xe.clearImmediate(t),o.scheduled=void 0)}});var be=l(1346);function ve(n){return!!n&&(n instanceof M.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}var Mn=l(5389),Ce=l(8178),T=l(8345);class Pn{constructor(o){this.durationSelector=o}call(o,t){return t.subscribe(new kn(o,this.durationSelector))}}class kn extends T.Ds{constructor(o,t){super(o),this.durationSelector=t,this.hasValue=!1}_next(o){if(this.value=o,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:s}=this;t=s(o)}catch(s){return this.destination.error(s)}const i=(0,T.ft)(t,new T.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:o,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(o))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var In=l(5894);function we(n){return!(0,In.k)(n)&&n-parseFloat(n)+1>=0}var ye=l(8151);function H(n=0,o,t){let i=-1;return we(o)?i=Number(o)<1?1:Number(o):(0,ye.K)(o)&&(t=o),(0,ye.K)(t)||(t=Ce.P),new M.y(s=>{const r=we(n)?n:+n-t.now();return t.schedule(Ln,r,{index:0,period:i,subscriber:s})})}function Ln(n){const{index:o,period:t,subscriber:i}=n;if(i.next(o),!i.closed){if(-1===t)return i.complete();n.index=o+1,this.schedule(n,t)}}function G(n,o=Ce.P){return function(n){return function(t){return t.lift(new Pn(n))}}(()=>H(n,o))}var Fn=l(8735);function W(n){return o=>o.lift(new Rn(n))}class Rn{constructor(o){this.notifier=o}call(o,t){const i=new An(o),s=(0,T.ft)(this.notifier,new T.IY(i));return s&&!i.seenValue?(i.add(s),t.subscribe(i)):i}}class An extends T.Ds{constructor(o){super(o),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}var Z=l(1125),Se=l(4168);class zn{call(o,t){return t.subscribe(new Zn(o))}}class Zn extends Se.L{constructor(o){super(o),this.hasPrev=!1}_next(o){let t;this.hasPrev?t=[this.prev,o]:this.hasPrev=!0,this.prev=o,t&&this.destination.next(t)}}var K=l(9204);const Nn=new class extends j.v{}(class extends q.o{constructor(o,t){super(o,t),this.scheduler=o,this.work=t}schedule(o,t=0){return t>0?super.schedule(o,t):(this.delay=t,this.state=o,this.scheduler.flush(this),this)}execute(o,t){return t>0||this.closed?super.execute(o,t):this._execute(o,t)}requestAsyncId(o,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(o,t,i):o.flush(this)}});var $=l(8085);class E extends Se.L{constructor(o,t,i=0){super(o),this.scheduler=t,this.delay=i}static dispatch(o){const{notification:t,destination:i}=o;t.observe(i),this.unsubscribe()}scheduleMessage(o){this.destination.add(this.scheduler.schedule(E.dispatch,this.delay,new Yn(o,this.destination)))}_next(o){this.scheduleMessage($.P.createNext(o))}_error(o){this.scheduleMessage($.P.createError(o)),this.unsubscribe()}_complete(){this.scheduleMessage($.P.createComplete()),this.unsubscribe()}}class Yn{constructor(o,t){this.notification=o,this.destination=t}}var Un=l(2108),Jn=l(5973);class Qn extends m.xQ{constructor(o=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=o<1?1:o,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(o){if(!this.isStopped){const t=this._events;t.push(o),t.length>this._bufferSize&&t.shift()}super.next(o)}nextTimeWindow(o){this.isStopped||(this._events.push(new qn(this._getNow(),o)),this._trimBufferThenGetEvents()),super.next(o)}_subscribe(o){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,r=i.length;let a;if(this.closed)throw new Un.N;if(this.isStopped||this.hasError?a=be.w.EMPTY:(this.observers.push(o),a=new Jn.W(this,o)),s&&o.add(o=new E(o,s)),t)for(let h=0;h<r&&!o.closed;h++)o.next(i[h]);else for(let h=0;h<r&&!o.closed;h++)o.next(i[h].value);return this.hasError?o.error(this.thrownError):this.isStopped&&o.complete(),a}_getNow(){return(this.scheduler||Nn).now()}_trimBufferThenGetEvents(){const o=this._getNow(),t=this._bufferSize,i=this._windowTime,s=this._events,r=s.length;let a=0;for(;a<r&&!(o-s[a].time<i);)a++;return r>t&&(a=Math.max(a,r-t)),a>0&&s.splice(0,a),s}}class qn{constructor(o,t){this.time=o,this.value=t}}function Oe(n,o,t){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:o,refCount:!1,scheduler:t},s=>s.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:o=Number.POSITIVE_INFINITY,refCount:t,scheduler:i}){let s,a,r=0,h=!1,c=!1;return function(f){let x;r++,!s||h?(h=!1,s=new Qn(n,o,i),x=s.subscribe(this),a=f.subscribe({next(ne){s.next(ne)},error(ne){h=!0,s.error(ne)},complete(){c=!0,a=void 0,s.complete()}}),c&&(a=void 0)):x=s.subscribe(this),this.add(()=>{r--,x.unsubscribe(),x=void 0,a&&!c&&t&&0===r&&(a.unsubscribe(),a=void 0,s=void 0)})}}(i))}let X;try{X="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){X=!1}let B,y,Me=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!X)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.Lbi))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F(){if("object"!=typeof document||!document)return 0;if(null==B){const n=document.createElement("div"),o=n.style;n.dir="rtl",o.width="1px",o.overflow="auto",o.visibility="hidden",o.pointerEvents="none",o.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),B=0,0===n.scrollLeft&&(n.scrollLeft=1,B=0===n.scrollLeft?1:2),n.remove()}return B}const Kn=new e.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,e.f3M)(p.K0)}}),Xn=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Pe=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new e.vpe,t){const s=t.documentElement?t.documentElement.dir:null;this.value=function(n){const o=(null==n?void 0:n.toLowerCase())||"";return"auto"===o&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Xn.test(navigator.language)?"rtl":"ltr":"rtl"===o?"rtl":"ltr"}((t.body?t.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Kn,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();class ii extends class{}{constructor(o){super(),this._data=o}connect(){return ve(this._data)?this._data:(0,I.of)(this._data)}disconnect(){}}class oi{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(o,t,i,s,r){o.forEachOperation((a,h,c)=>{let d,f;null==a.previousIndex?(d=this._insertView(()=>i(a,h,c),c,t,s(a)),f=d?1:0):null==c?(this._detachAndCacheView(h,t),f=3):(d=this._moveView(h,c,t,s(a)),f=2),r&&r({context:null==d?void 0:d.context,operation:f,record:a})})}detach(){for(const o of this._viewCache)o.destroy();this._viewCache=[]}_insertView(o,t,i,s){const r=this._insertViewFromCache(t,i);if(r)return void(r.context.$implicit=s);const a=o();return i.createEmbeddedView(a.templateRef,a.context,a.index)}_detachAndCacheView(o,t){const i=t.detach(o);this._maybeCacheView(i,t)}_moveView(o,t,i,s){const r=i.get(o);return i.move(r,t),r.context.$implicit=s,r}_maybeCacheView(o,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(o);else{const i=t.indexOf(o);-1===i?o.destroy():t.remove(i)}}_insertViewFromCache(o,t){const i=this._viewCache.pop();return i&&t.insert(i,o),i||null}}const Ie=new e.OlP("_ViewRepeater"),si=["contentWrapper"],ri=["*"],Le=new e.OlP("VIRTUAL_SCROLL_STRATEGY");class ai{constructor(o,t,i){this._scrolledIndexChange=new m.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,Mn.x)()),this._viewport=null,this._itemSize=o,this._minBufferPx=t,this._maxBufferPx=i}attach(o){this._viewport=o,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(o,t,i){this._itemSize=o,this._minBufferPx=t,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(o,t){this._viewport&&this._viewport.scrollToOffset(o*this._itemSize,t)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const o=this._viewport.getRenderedRange(),t={start:o.start,end:o.end},i=this._viewport.getViewportSize(),s=this._viewport.getDataLength();let r=this._viewport.measureScrollOffset(),a=this._itemSize>0?r/this._itemSize:0;if(t.end>s){const c=Math.ceil(i/this._itemSize),d=Math.max(0,Math.min(a,s-c));a!=d&&(a=d,r=d*this._itemSize,t.start=Math.floor(a)),t.end=Math.max(0,Math.min(s,t.start+c))}const h=r-t.start*this._itemSize;if(h<this._minBufferPx&&0!=t.start){const c=Math.ceil((this._maxBufferPx-h)/this._itemSize);t.start=Math.max(0,t.start-c),t.end=Math.min(s,Math.ceil(a+(i+this._minBufferPx)/this._itemSize))}else{const c=t.end*this._itemSize-(r+i);if(c<this._minBufferPx&&t.end!=s){const d=Math.ceil((this._maxBufferPx-c)/this._itemSize);d>0&&(t.end=Math.min(s,t.end+d),t.start=Math.max(0,Math.floor(a-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(a))}}function li(n){return n._scrollStrategy}let Fe=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new ai(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=D(t)}get minBufferPx(){return this._minBufferPx}set minBufferPx(t){this._minBufferPx=D(t)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(t){this._maxBufferPx=D(t)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[e._Bn([{provide:Le,useFactory:li,deps:[(0,e.Gpc)(()=>n)]}]),e.TTD]}),n})(),Re=(()=>{class n{constructor(t,i,s){this._ngZone=t,this._platform=i,this._scrolled=new m.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new M.y(i=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(G(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,I.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const s=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe((0,Fn.h)(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,t)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let s=function(n){return n instanceof e.SBq?n.nativeElement:n}(i),r=t.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,me.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.R0b),e.LFG(Me),e.LFG(p.K0,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ae=(()=>{class n{constructor(t,i,s,r){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=s,this.dir=r,this._destroyed=new m.xQ,this._elementScrolled=new M.y(a=>this.ngZone.runOutsideAngular(()=>(0,me.R)(this.elementRef.nativeElement,"scroll").pipe(W(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=s?t.end:t.start),null==t.right&&(t.right=s?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),s&&0!=F()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==F()?t.left=t.right:1==F()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;!function(){if(null==y){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return y=!1,y;if("scrollBehavior"in document.documentElement.style)y=!0;else{const n=Element.prototype.scrollTo;y=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return y}()?(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left)):i.scrollTo(t)}measureScrollOffset(t){const i="left",s="right",r=this.elementRef.nativeElement;if("top"==t)return r.scrollTop;if("bottom"==t)return r.scrollHeight-r.clientHeight-r.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==t?t=a?s:i:"end"==t&&(t=a?i:s),a&&2==F()?t==i?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:a&&1==F()?t==i?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:t==i?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(Re),e.Y36(e.R0b),e.Y36(Pe,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),di=(()=>{class n{constructor(t,i,s){this._platform=t,this._change=new m.xQ,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(t.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),s=t.documentElement,r=s.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||t.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(G(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Me),e.LFG(e.R0b),e.LFG(p.K0,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gi="undefined"!=typeof requestAnimationFrame?vn:On;let te=(()=>{class n extends Ae{constructor(t,i,s,r,a,h,c){super(t,h,s,a),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=r,this._detachedSubject=new m.xQ,this._renderedRangeSubject=new m.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new M.y(d=>this._scrollStrategy.scrolledIndexChange.subscribe(f=>Promise.resolve().then(()=>this.ngZone.run(()=>d.next(f))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=be.w.EMPTY,this._viewportChanges=c.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function(n){return null!=n&&"false"!=`${n}`}(t)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe((0,Z.O)(null),G(0,gi)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(W(this._detachedSubject)).subscribe(i=>{const s=i.length;s!==this._dataLength&&(this._dataLength=s,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function(n,o){return n.start==o.start&&n.end==o.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){const r="horizontal"==this.orientation,a=r?"X":"Y";let c=`translate${a}(${Number((r&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t=this.appendOnly&&"to-start"===i?0:t,"to-end"===i&&(c+=` translate${a}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=c&&(this._renderedContentTransform=c,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const s={behavior:i};"horizontal"===this.orientation?s.start=t:s.top=t,this.scrollTo(s)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){return super.measureScrollOffset(t||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const t=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?t.clientWidth:t.clientHeight}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(Le,8),e.Y36(Pe,8),e.Y36(Re),e.Y36(di))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&e.Gf(si,7),2&t){let s;e.iGM(s=e.CRH())&&(i._contentWrapper=s.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&e.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[e._Bn([{provide:Ae,useExisting:n}]),e.qOj],ngContentSelectors:ri,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.qZA(),e._UZ(3,"div",2)),2&t&&(e.xp6(3),e.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function De(n,o,t){if(!t.getBoundingClientRect)return 0;const s=t.getBoundingClientRect();return"horizontal"===n?"start"===o?s.left:s.right:"start"===o?s.top:s.bottom}let ze=(()=>{class n{constructor(t,i,s,r,a,h){this._viewContainerRef=t,this._template=i,this._differs=s,this._viewRepeater=r,this._viewport=a,this.viewChange=new m.xQ,this._dataSourceChanges=new m.xQ,this.dataStream=this._dataSourceChanges.pipe((0,Z.O)(null),n=>n.lift(new zn),(0,K.w)(([c,d])=>this._changeDataSource(c,d)),Oe(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new m.xQ,this.dataStream.subscribe(c=>{this._data=c,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(W(this._destroyed)).subscribe(c=>{this._renderedRange=c,this.viewChange.observers.length&&h.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(t){this._cdkVirtualForOf=t,function(n){return n&&"function"==typeof n.connect}(t)?this._dataSourceChanges.next(t):this._dataSourceChanges.next(new ii(ve(t)?t:Array.from(t||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(t){this._needsUpdate=!0,this._cdkVirtualForTrackBy=t?(i,s)=>t(i+(this._renderedRange?this._renderedRange.start:0),s):void 0}set cdkVirtualForTemplate(t){t&&(this._needsUpdate=!0,this._template=t)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(t){this._viewRepeater.viewCacheSize=D(t)}measureRangeSize(t,i){if(t.start>=t.end)return 0;const s=t.start-this._renderedRange.start,r=t.end-t.start;let a,h;for(let c=0;c<r;c++){const d=this._viewContainerRef.get(c+s);if(d&&d.rootNodes.length){a=h=d.rootNodes[0];break}}for(let c=r-1;c>-1;c--){const d=this._viewContainerRef.get(c+s);if(d&&d.rootNodes.length){h=d.rootNodes[d.rootNodes.length-1];break}}return a&&h?De(i,"end",h)-De(i,"start",a):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const t=this._differ.diff(this._renderedItems);t?this._applyChanges(t):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((t,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(t,i):i)),this._needsUpdate=!0)}_changeDataSource(t,i){return t&&t.disconnect(this),this._needsUpdate=!0,i?i.connect(this):(0,I.of)()}_updateContext(){const t=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const s=this._viewContainerRef.get(i);s.context.index=this._renderedRange.start+i,s.context.count=t,this._updateComputedContextProperties(s.context),s.detectChanges()}}_applyChanges(t){this._viewRepeater.applyChanges(t,this._viewContainerRef,(r,a,h)=>this._getEmbeddedViewArgs(r,h),r=>r.item),t.forEachIdentityChange(r=>{this._viewContainerRef.get(r.currentIndex).context.$implicit=r.item});const i=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const r=this._viewContainerRef.get(s);r.context.index=this._renderedRange.start+s,r.context.count=i,this._updateComputedContextProperties(r.context)}}_updateComputedContextProperties(t){t.first=0===t.index,t.last=t.index===t.count-1,t.even=t.index%2==0,t.odd=!t.even}_getEmbeddedViewArgs(t,i){return{templateRef:this._template,context:{$implicit:t.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b),e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(Ie),e.Y36(te,4),e.Y36(e.R0b))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[e._Bn([{provide:Ie,useClass:oi}])]}),n})(),Ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),ui=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[ke,Ze],ke,Ze]}),n})();var fi=l(2372),R=l(8053),mi=l(6636),Ee=l(1366);class bi{constructor(o={}){this.config=o,this.state={action:null,value:0,initialValue:0},this.requests=null,this.disabled=!1,this.stream$=new m.xQ,this._value$=null,this.timer$=t=>{let i=(0,I.of)(t);switch(t.action){case"start":case"increment":case"set":"start"===t.action&&0===this.config.latencyThreshold&&0===t.value&&(t.value=t.initialValue),this.requests>0&&(i=H(this.config.latencyThreshold,250).pipe((0,R.U)(s=>V(S({},t),{value:0===s?this.state.value||t.initialValue:this._increment()}))));break;case"complete":case"stop":i=0===t.value?(0,I.of)(S({},t)):H(0,500).pipe((0,mi.q)(2),(0,R.U)(s=>({value:0===s?100:0})))}return i.pipe((0,R.U)(s=>V(S({},s),{action:"set"})),(0,Ee.b)(s=>this.next(s,!1)))},this.config=S({latencyThreshold:0},o)}get value$(){return this._value$?this._value$:this._value$=this.stream$.pipe((0,Z.O)(this.state),(0,K.w)(o=>this.timer$(o)),Oe(),(0,R.U)(o=>o.value))}start(o=2){this.disabled||this.next({action:"start",initialValue:o})}stop(){this.next({action:"stop"})}complete(){this.next({action:"complete"})}disable(){this.disabled=!0}set(o){this.next({action:"set",value:o})}increment(o=0){this.next({action:"increment",value:o})}next(o,t=!0){switch(o.action){case"start":this.requests=(this.requests||0)+1;break;case"complete":if(this.requests=(this.requests||1)-1,this.requests>0)return;break;case"stop":this.requests=0;break;case"increment":o.value=this._increment(o.value)}this.state=S(V(S({},this.state),{action:null}),o),t&&this.stream$.next(this.state)}_increment(o=0){const t=this.state.value;return t>=99&&(o=0),0===o&&(o=t>=0&&t<25?3*Math.random()+3:t>=25&&t<65?3*Math.random():t>=65&&t<90?2*Math.random():t>=90&&t<99?.5:0),o+t}}const vi=new e.OlP("LOADING_BAR_CONFIG");let Ci=(()=>{class n{constructor(t,i={},s){this.platformId=t,this.config=i,this.zone=s,this.refs={},this.streams$=new m.xQ,this.value$=this.streams$.pipe((0,Z.O)(null),(0,K.w)(()=>(0,fi.aj)(Object.keys(this.refs).map(r=>this.refs[r].value$))),function(n){return n?o=>new M.y(t=>o.subscribe(i=>n.run(()=>t.next(i)),i=>n.run(()=>t.error(i)),()=>n.run(()=>t.complete()))):o=>o}(this.zone),(0,R.U)(r=>Math.max(0,...r)))}get progress$(){return this.value$}start(t=2){this.useRef().start(t)}set(t){this.useRef().set(t)}increment(t){this.useRef().increment(t)}complete(){this.useRef().complete()}stop(){this.useRef().stop()}useRef(t="default"){return this.refs[t]||(this.refs[t]=new bi(this.config),this.streams$.next(),(0,p.NF)(this.platformId)||this.refs[t].disable()),this.refs[t]}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.Lbi),e.LFG(vi,8),e.LFG(e.R0b,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})();var N=l(4522),yi=l(6658);const Si=new N.Xk(()=>!1);let Oi=(()=>{class n{constructor(t){this.loader=t}intercept(t,i){if(t.headers.has("ignoreLoadingBar"))return i.handle(t.clone({headers:t.headers.delete("ignoreLoadingBar")}));if(!0===t.context.get(Si))return i.handle(t);let s=!1;const r=this.loader.useRef("http");return i.handle(t).pipe((0,Ee.b)(()=>{s||(r.start(),s=!0)}),(0,yi.x)(()=>s&&r.complete()))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ci))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Mi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[{provide:N.TP,useClass:Oi,multi:!0}],imports:[[N.JF,Be],N.JF,Be]}),n})();var Ti=l(376);let Pi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ae,Rt.S,Q],imports:[[p.ez,b.u5,u.Pc,Ye.a,ln.m,ui,Mi]]}),n})();e.B6R(ie.U,[p.O5,u.Gu,u.sr,p.mk,u.gu,u.W2,Ti.G,ae,Tt,an],[]),e.B6R(oe,[fe,p.O5,te,Fe,p.mk,ze,p.sg,ct],[]),e.B6R(Q,[fe,p.mk,p.O5,te,Fe,ze,Ft],[])}}]);